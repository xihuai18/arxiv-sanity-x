"use strict";(()=>{var S=(p,a)=>()=>(a||p((a={exports:{}}).exports,a),a.exports);var A=S(v=>{(function(p){const a="ArxivSanitySummaryMarkdownDom",f=p.ArxivSanityCommon.escapeHtml;let d=null,l=null;function y(e,n){const t=String(e||"").trim().toLowerCase().replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"").replace(/\s+/g,"-")||"section",i=n[t]||0;return n[t]=i+1,i>0?`${t}-${i+1}`:t}function h(e){return e?e.type==="inline"&&Array.isArray(e.children)?e.children.map(n=>n.type==="text"||n.type==="code_inline"?n.content:"").join(""):e.content||"":""}function b(e){if(!e||e.length<2)return"";const n=e.map(o=>{const t=f(o.title),i=f(o.slug);return`<li class="toc-item toc-level-${o.level}"><a href="#${i}">${t}</a></li>`}).join("");return`
        <div class="toc-header">
            <div class="toc-title">Contents</div>
            <div class="toc-actions">
                <span class="toc-count">${e.length}</span>
                <button type="button" class="toc-toggle" aria-expanded="true">Collapse</button>
            </div>
        </div>
        <ul class="toc-list">
            ${n}
        </ul>
    `}function g(e,n){if(!e)return;const o=e.querySelector(".toc-item a.is-active");o&&o.classList.remove("is-active"),n&&n.classList.add("is-active")}function w(e,n){if(d&&(d.disconnect(),d=null),!e||!n)return;const o=n.querySelectorAll("h1, h2, h3, h4");if(!o.length)return;const t=new Map;e.querySelectorAll('a[href^="#"]').forEach(s=>{const r=(s.getAttribute("href")||"").slice(1);r&&t.set(r,s)}),d=new IntersectionObserver(s=>{const c=s.filter(u=>u.isIntersecting);if(!c.length)return;c.sort((u,m)=>m.intersectionRatio!==u.intersectionRatio?m.intersectionRatio-u.intersectionRatio:u.boundingClientRect.top-m.boundingClientRect.top);const r=c[0].target,T=t.get(r.id);g(e,T)},{rootMargin:"0px 0px -70% 0px",threshold:[0,1]}),o.forEach(s=>{d.observe(s)})}function x(e){if(!e)return;const n=e.querySelector(".toc-toggle");if(!n)return;l===null&&(l=window.matchMedia("(max-width: 960px)").matches);const o=t=>{e.classList.toggle("is-collapsed",t),n.setAttribute("aria-expanded",t?"false":"true"),n.textContent=t?"Expand":"Collapse"};o(l),n.addEventListener("click",()=>{l=!l,o(l)})}function E(e){e.querySelectorAll("table").forEach(o=>{const t=o.parentElement;if(t&&t.classList.contains("table-wrap"))return;const i=document.createElement("div");i.className="table-wrap",t&&t.insertBefore(i,o),i.appendChild(o)})}function L(e){e.querySelectorAll("img").forEach(o=>{const t=o.cloneNode(!0);o.parentNode.replaceChild(t,o),t.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation();const s=document.createElement("div");s.className="image-zoom-overlay",s.innerHTML=`
                <div class="image-zoom-container">
                    <img src="${t.src}" alt="${t.alt||""}" />
                    <button class="image-zoom-close" aria-label="Close">&times;</button>
                </div>
            `,document.body.appendChild(s),document.body.style.overflow="hidden",s.addEventListener("click",r=>{(r.target===s||r.target.classList.contains("image-zoom-close"))&&(s.remove(),document.body.style.overflow="")});const c=r=>{r.key==="Escape"&&(s.remove(),document.body.style.overflow="",document.removeEventListener("keydown",c))};document.addEventListener("keydown",c)}),t.addEventListener("error",()=>{t.style.display="none";const i=document.createElement("span");i.className="image-load-error",i.textContent="[Image failed to load]",t.parentNode.insertBefore(i,t.nextSibling)})})}p[a]={slugifyHeading:y,extractHeadingText:h,buildTocHtml:b,setActiveTocLink:g,setupTocObserver:w,setupTocToggle:x,wrapMarkdownTables:E,setupImageZoom:L}})(typeof window!="undefined"?window:v)});A();})();
