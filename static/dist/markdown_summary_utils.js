"use strict";(()=>{var U=(M,$)=>()=>($||M(($={exports:{}}).exports,$),$.exports);var W=U(z=>{(function(M){if(typeof window=="undefined")return;const $="ArxivSanitySummaryMarkdown",H=M.ArxivSanityCommon,w=M.ArxivSanityMarkdownRenderer,V=M.ArxivSanityMarkdownSanitizer,k=M.ArxivSanitySummaryMarkdownDom,d=H.escapeHtml,I=H.isSafeUrl;function P(c){function p(e,n){const r=e.posMax,t=n>0?e.src.charCodeAt(n-1):-1,i=n+1<=r?e.src.charCodeAt(n+1):-1;let m=!0,f=!0;return(t===32||t===9||i>=48&&i<=57)&&(f=!1),(i===32||i===9)&&(m=!1),{can_open:m,can_close:f}}function o(e,n){if(e.src[e.pos]!=="<")return!1;const t=e.src.slice(e.pos).match(/^<br\s*\/?>/i);if(!t)return!1;if(!n){const i=e.push("hardbreak","br",0);i.markup=t[0]}return e.pos+=t[0].length,!0}function s(e,n){if(e.src[e.pos]!=="$")return!1;if(!p(e,e.pos).can_open)return n||(e.pending+="$"),e.pos+=1,!0;const t=e.pos+1;let i=t,m=t,f=!1;for(;(m=e.src.indexOf("$",i))!==-1;){if(i=m,e.src[m-1]==="\\"){i+=1;continue}f=!0;break}if(!f)return n||(e.pending+="$"),e.pos=t,!0;if(!n){const h=e.push("math_inline","math",0);h.content=e.src.slice(t,i),h.markup="$"}return e.pos=i+1,!0}function l(e,n){if(e.src.slice(e.pos,e.pos+2)!=="\\(")return!1;const r=e.pos+2,t=e.src.indexOf("\\)",r);if(t===-1)return!1;if(!n){const i=e.push("math_inline","math",0);i.content=e.src.slice(r,t),i.markup="\\("}return e.pos=t+2,!0}function u(e,n){if(e.src.slice(e.pos,e.pos+2)!=="\\[")return!1;const r=e.pos+2,t=e.src.indexOf("\\]",r);if(t===-1)return!1;if(!n){const i=e.push("math_inline","math",0);i.content=e.src.slice(r,t),i.markup="\\[",i.displayMode=!0}return e.pos=t+2,!0}function a(e,n,r,t){const i=e.bMarks[n]+e.tShift[n],m=e.eMarks[n],f=e.src.slice(i,m);if(!f||f.length<2)return!1;const h=f.trim().startsWith("$$")?"$$":f.trim().startsWith("\\[")?"\\[":null;if(!h)return!1;const b=h==="$$"?"$$":"\\]",N=f.indexOf(h)+h.length;let x=e.src.slice(i+N,m),T=!1,S="",g=n;if(t)return!0;for(x.trim().endsWith(b)&&(x=x.trim().slice(0,-b.length),T=!0),g=n;!T&&(g+=1,!(g>=r));){const A=e.bMarks[g]+e.tShift[g],L=e.eMarks[g];if(A<L&&e.tShift[g]<e.blkIndent)break;const v=e.src.slice(A,L);if(v.trim().endsWith(b)){const R=v.lastIndexOf(b);S=v.slice(0,R),T=!0}}e.line=g+1;const _=e.push("math_block","math",0);return _.block=!0,_.content=(x&&x.trim()?`${x}
`:"")+e.getLines(n+1,g,e.tShift[n],!0)+(S&&S.trim()?S:""),_.map=[n,e.line],_.markup=h,!0}c.inline.ruler.before("escape","html_line_break",o),c.inline.ruler.before("escape","math_inline_paren",l),c.inline.ruler.before("escape","math_inline_bracket",u),c.inline.ruler.after("escape","math_inline_dollar",s),c.block.ruler.before("code","math_block",a,{alt:["paragraph","reference","blockquote","list"]}),c.renderer.rules.math_inline=function(e,n){const r=d(e[n].content);return e[n].displayMode||e[n].markup==="\\["?`<span class="math-display">\\[${r}\\]</span>`:`<span class="math-inline">\\(${r}\\)</span>`},c.renderer.rules.math_block=function(e,n){return`<div class="math-display">\\[${d(e[n].content)}\\]</div>`}}let y=null;function O(){if(y)return y;if(!w)return null;const c=w.createMarkdownIt({html:!1,linkify:!0,typographer:!1,breaks:!0});return c?(c.disable("code"),w.setSafeLinkValidator(c,{baseValidator:I}),c.use(P),c.renderer.rules.image=function(p,o){const s=p[o],l=s.attrGet("src"),u=s.content,a=s.attrGet("title");if(!I(l))return"";let e=u;return a&&(e=a),e?`<figure>
                <img src="${d(l)}" alt="${d(u)}" loading="lazy">
                <figcaption>${d(e)}</figcaption>
            </figure>`:`<figure><img src="${d(l)}" alt="${d(u)}" loading="lazy"></figure>`},y=c,y):null}function B(c){const o=String(c||"").replace(/\r\n/g,`
`).split(`
`);let s=!1,l="",u="";for(let a=0;a<o.length;a+=1){const e=o[a],n=String(e).trim();if(!s){const r=e.match(/^([ \t]{4,})(\\\[|\$\$)/);r&&(l=r[2],u=l==="$$"?"$$":"\\]",s=!0,o[a]=e.replace(/^[ \t]{4,}/,""),n.slice(l.length).includes(u)&&(s=!1,u=""));continue}o[a]=e.replace(/^[ \t]{4,}/,""),n.includes(u)&&(s=!1,u="")}return o.join(`
`)}function D(c){return c.replace(/(\\begin\{aligned\})([\s\S]*?)(\\tag\{[^}]+\})([\s\S]*?)(\\end\{aligned\})/g,(p,o,s,l,u,a)=>o+s+u+a+" "+l)}function J(c,p,o){if(!c||!p)return;const s=O();if(!s){p.innerHTML=`<pre>${d(c)}</pre>`;return}try{let l=B(c);l=D(l);const u={},a=s.parse(l,u),e={},n=[];for(let r=0;r<a.length;r+=1){const t=a[r];if(t.type!=="heading_open")continue;const i=Number(t.tag.slice(1));if(Number.isNaN(i)||i>4)continue;const m=a[r+1],f=k.extractHeadingText(m);if(!f)continue;const h=k.slugifyHeading(f,e);t.attrSet("id",h),n.push({level:i,title:f,slug:h})}if(p.innerHTML=s.renderer.render(a,s.options,u),k.wrapMarkdownTables(p),k.setupImageZoom(p),o){const r=k.buildTocHtml(n);o.innerHTML=r,o.classList.toggle("is-empty",!r);const t=o.closest(".summary-content");if(t&&t.classList.toggle("has-toc",!!r),r){k.setupTocToggle(o),k.setupTocObserver(o,p);const i=o.querySelector(".toc-item a");i&&k.setActiveTocLink(o,i)}}typeof MathJax!="undefined"&&MathJax.startup&&MathJax.startup.promise.then(()=>MathJax.typesetPromise([p])).catch(r=>{console.warn("MathJax rendering error:",r)})}catch(l){console.error("Markdown render error:",l),p.innerHTML=`<pre>${d(c)}</pre>`}}M[$]={getMarkdownRenderer:O,renderSummaryMarkdown:J}})(typeof window!="undefined"?window:z)});W();})();
