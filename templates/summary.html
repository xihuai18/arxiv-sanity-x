{% extends "base.html" %}

{% block variables %}
<script>
var paper = {{ paper | tojson }};
var pid = {{ pid | tojson }};
var defaultSummaryModel = {{ default_summary_model | tojson }};
</script>
{% endblock %}

{% block head_extra %}
<!-- Markdown + Math rendering (summary page only) -->
<script defer src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.1/dist/markdown-it.min.js"></script>
<script>
window.MathJax = {
    tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]'], ['$$', '$$']],
        processEscapes: true
    },
    options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
};
</script>
<script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
{% endblock %}

{% block content %}
<div id="wrap" class="summary-page">
    <div class="loading-placeholder">
        <h2>Loading Summary...</h2>
        <p>Please wait while we generate the paper summary.</p>
    </div>
</div>
{% endblock %}

{% block elements %}
<script defer src="{{ url_for('static', filename='paper_summary.js') }}"></script>
{% endblock %}
